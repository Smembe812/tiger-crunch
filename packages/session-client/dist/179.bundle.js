(()=>{"use strict";var e={138:(e,t,s)=>{const i=new(s(98).Z);console.log(navigator);class n{authUrl;redirectUri;responseType;clientId;location;constructor({redirectUri:e,responseType:t,clientId:s}){this.authUrl="https://tiger-crunch.com:4433/auth",this.redirectUri=e,this.responseType=t,this.clientId=s;const i=new Uint32Array(2);this.nonce=window.btoa(window.crypto.getRandomValues(i))}grantCodeFlow({scope:e,state:t}){const s=`${this.authUrl}/code?response_type=${this.responseType}&scope=${e}&client_id=${this.clientId}&state=${t}&redirect_uri=${this.redirectUri}`;window.location.assign(s)}implicitFlow({scope:e,state:t}){const s=`${this.authUrl}/implicit?response_type=${this.responseType}&scope=${e}&client_id=${this.clientId}&state=${t}&redirect_uri=${this.redirectUri}&nonce=${this.nonce}`;window.location.assign(s)}}i.isLoaded()?i.setCheckSessionTimer():new n({clientId:"9b817b3b-6f5b-43f8-ad5e-0adfab697b01",redirectUri:"https://client.tiger-crunch.com:3300",responseType:"id_token token"}).implicitFlow({scope:"openid profile email",state:"af0ifjsldkj"})},98:(e,t,s)=>{function i({opFrameId:e,targetOrigin:t=null,clientId:s,sessionState:i}){this.stat="unchanged",this.clientId=s,this.sessionState=i,this.message=`${this.clientId} ${this.sessionState}`,this.targetOrigin=t||"https://auth.tiger-crunch.com:3000",this.opFrameId=e,this.timerID,this.checkSession=function(e,t,s){window.parent.frames[e].contentWindow.postMessage(s,"*")},this.setClientId=function(e){return this.clientId=e,this},this.setSessionState=function(e){return this.setSessionState=e,this},this._setMessage=function(){return this.message=`${this.clientId} ${this.sessionState}`,this},this.receiveMessage=function e(t){t.origin===this.targetOrigin&&(this.stat=t.data,"changed"===this.stat&&(clearInterval(this.timerID),window.addEventListener(this.message,e,!1)))},this.setTimer=function(){if(!this.sessionState&&!this.clientId)throw new Errow("no session details loaded");this.checkSession(this.opFrameId,null,this.message),this.timerID=setInterval(this.checkSession,5e3,this.opFrameId,null,this.message)}}s.d(t,{Z:()=>n}),window.SSOSession=class{clientId;sessionState;rp;constructor(){this.loadSession().loadIframe(),this.rp=new i({opFrameId:"op",clientId:this.clientId,sessionState:this.sessionState})}loadSession(){if(this.sessionState=sessionStorage.getItem("sessionState")||null,this.clientId=sessionStorage.getItem("clientId")||null,!this.clientId){const e=new URL(window.location.href),t=e.searchParams.get("id_token"),s=e.searchParams.get("access_token"),i=(e.searchParams.get("token_type"),e.searchParams.get("expires_in")),n=e.searchParams.get("state");if(t&&s&&n&&i){const[e,s,i]=t.split("."),{aud:o,sub:r,...a}=JSON.parse(window.atob(s));this.clientId=o,this.sessionState=`${this.clientId}.${n}`,console.log(this.sessionState)}}return this}isLoaded(){return!!this.clientId&&!!this.sessionState}loadIframe(){const e=document.createElement("div");return e.innerHTML='\n            <iframe id="op" \n                src="https://auth.tiger-crunch.com:3000" \n                sandbox="allow-same-origin allow-scripts" \n                style="position: absolute;width:0;height:0;border:0;" \n                frameborder="0" \n                seamless="seamless"\n                referrerpolicy="origin">\n            </iframe>\n        ',document.body.appendChild(e),this}setCheckSessionTimer(){return this.rp.setTimer()}getSessionInfo(){return{clientId:this.clientId,sessionState:this.sessionState}}};const n=window.SSOSession}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s(98),s(138)})();