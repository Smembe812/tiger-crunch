(()=>{const e=document.createElement("div");function s(){window.addEventListener("message",receiveMessage,!1),this.receiveMessage=function(e){console.log(e),e.data.split(" ")[0];const s=e.data.split(" ")[1],t=(s.split(".")[1],"");t=s?"unchanged":"changed",e.source.postMessage(t,e.origin)}}function t(e=null){this.stat="unchanged",this.mes=client_id+" "+session_state,this.targetOrigin=e||"https://auth.tiger-crunch.com:3000",this.opFrameId="op",this.timerID,this.check_session=function(){window.parent.frames[this.opFrameId].contentWindow.postMessage(mes,e)},this.setTimer=function(){this.check_session(),this.timerID=setInterval(check_session,5e3)},this.receiveMessage=function e(s){s.origin===this.targetOrigin&&(this.stat=s.data,"changed"===this.stat&&(clearInterval(this.timerID),window.addEventListener("message",e,!1)))}}e.innerHTML='\n    <iframe id="rp"src="" frameborder="0"></iframe>\n\n    <iframe id="op" src="https://auth.tiger-crunch.com:3000"  style="position: absolute;width:0;height:0;border:0;" frameborder="0" seamless="seamless"></iframe>\n',document.body.appendChild(e),window.SSOSession=function(){this.op=new s,this.rp=new t,this.rp.setTimer(),this.sessionStatus=function(){return{status:this.rp.stat}}}})(),(()=>{const e=new window.Session;console.log(e)})();